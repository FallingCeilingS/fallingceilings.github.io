<!DOCTYPE html>
<html lang="en">
    <head>
    <meta charset="utf-8">

    

    <!-- 渲染优化 -->
    <meta name="renderer" content="webkit">
    <meta name="force-rendering" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="HandheldFriendly" content="True" >
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <!--icon-->

    <link rel="shortcut icon" type='image/x-icon' href="/favicon.ico">


    <!-- meta -->


<title>The difference between CommonJS modularisation and ES6 modularisation | Junxiang Chen</title>


    <meta name="keywords" content="front-end brief">




    <!-- OpenGraph -->
 
    <meta name="description" content="Module loading CommonJS mainly relies on environment variables like module, exports, requrire and global. It loads modules synchronously. ES6 modules are not objects. The import clause will be dynamic">
<meta property="og:type" content="article">
<meta property="og:title" content="The difference between CommonJS modularisation and ES6 modularisation">
<meta property="og:url" content="https://fallingceilings.github.io/2021/01/02/The-difference-between-CommonJS-modularisation-and-ES6-modularisation/index.html">
<meta property="og:site_name" content="Junxiang Chen">
<meta property="og:description" content="Module loading CommonJS mainly relies on environment variables like module, exports, requrire and global. It loads modules synchronously. ES6 modules are not objects. The import clause will be dynamic">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2021-01-02T22:52:24.000Z">
<meta property="article:modified_time" content="2021-01-02T23:52:47.112Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="front-end brief">
<meta name="twitter:card" content="summary_large_image">


    
<link rel="stylesheet" href="/css/style/main.css">
 



    
    
        <link rel="stylesheet" id="hl-default-theme" href="/css/highlight/default.css" media="none" onload="if(getComputedStyle(document.documentElement).getPropertyValue('--color-mode').indexOf('dark')===-1)this.media='all'">
        
    

    
    

    

     

    <!-- custom head -->

<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.1.1"></head>

    <body>
        <div id="app">
            <header class="header">
    <div class="header__left">
        <a href="/" class="button">
            <span class="logo__text">
                Home
            </span>
        </a>
    </div>
    <div class="header__right">
        
            <div class="navbar__menus">
                
                    <a href="/" class="navbar-menu button">
                        首页
                    </a>
                
                    <a href="/tags/" class="navbar-menu button">
                        标签
                    </a>
                
                    <a href="/archives/" class="navbar-menu button">
                        归档
                    </a>
                
                    <a href="/friends/" class="navbar-menu button">
                        友链
                    </a>
                
                    <a href="/page/" class="navbar-menu button">
                        Page
                    </a>
                
            </div>
        
        
        

        
        

        

        
            <a class="dropdown-icon button" id="btn-dropdown">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width='24' height='24' fill="none" stroke="currentColor" stroke-width="0.7" stroke-linecap="round" stroke-linejoin="round">
                    <path fill="currentColor" d="M3.314,4.8h13.372c0.41,0,0.743-0.333,0.743-0.743c0-0.41-0.333-0.743-0.743-0.743H3.314c-0.41,0-0.743,0.333-0.743,0.743C2.571,4.467,2.904,4.8,3.314,4.8z M16.686,15.2H3.314c-0.41,0-0.743,0.333-0.743,0.743s0.333,0.743,0.743,0.743h13.372c0.41,0,0.743-0.333,0.743-0.743S17.096,15.2,16.686,15.2z M16.686,9.257H3.314c-0.41,0-0.743,0.333-0.743,0.743s0.333,0.743,0.743,0.743h13.372c0.41,0,0.743-0.333,0.743-0.743S17.096,9.257,16.686,9.257z"></path>
                </svg>
            </a>
            <div class="dropdown-menus" id="dropdown-menus">
                <a class="dropback-icon button" id="btn-dropback">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width='24' height='24' fill="none" stroke="currentColor" stroke-width="0.7" stroke-linecap="round" stroke-linejoin="round">
                        <path fill="currentColor" d="M11.469,10l7.08-7.08c0.406-0.406,0.406-1.064,0-1.469c-0.406-0.406-1.063-0.406-1.469,0L10,8.53l-7.081-7.08c-0.406-0.406-1.064-0.406-1.469,0c-0.406,0.406-0.406,1.063,0,1.469L8.531,10L1.45,17.081c-0.406,0.406-0.406,1.064,0,1.469c0.203,0.203,0.469,0.304,0.735,0.304c0.266,0,0.531-0.101,0.735-0.304L10,11.469l7.08,7.081c0.203,0.203,0.469,0.304,0.735,0.304c0.267,0,0.532-0.101,0.735-0.304c0.406-0.406,0.406-1.064,0-1.469L11.469,10z"></path>
                    </svg>
                </a>
                
                    <a href="/" class="dropdown-menu button">
                        首页
                    </a>
                
                    <a href="/tags/" class="dropdown-menu button">
                        标签
                    </a>
                
                    <a href="/archives/" class="dropdown-menu button">
                        归档
                    </a>
                
                    <a href="/friends/" class="dropdown-menu button">
                        友链
                    </a>
                
                    <a href="/page/" class="dropdown-menu button">
                        Page
                    </a>
                
            </div>
            <script>
                document.getElementById('btn-dropdown').addEventListener('click', () => {
                    const dd = document.getElementById('dropdown-menus');
                    requestAnimationFrame(() => {
                        dd.style.display = 'flex';
                        requestAnimationFrame(() => {
                            dd.style.transform = 'translateY(0)';
                            dd.style.opacity = '1';
                        });
                    });
                });
                document.getElementById('btn-dropback').addEventListener('click', () => {
                    const dd = document.getElementById('dropdown-menus');
                    dd.style.transform = 'translateY(2.25rem)';                    
                    dd.style.opacity = '0';
                    setTimeout(() => {dd.style.display = 'none';}, 350);
                });
            </script>
        
    </div>
</header>


            <main class="main">
    
<div class="post-title">
    <h1 class="post-title__text">
        The difference between CommonJS modularisation and ES6 modularisation
    </h1>
    <div class="post-title__meta">
        <a href="/archives/2021/01/" class="post-meta__date button">
    2021-01-02
</a>
        
 
        
    
    


 

 
    </div>
</div>


    <article class="post content-card">
        <div class="post__header"> </div>
        <div class="post__content">
            <h3 id="Module-loading"><a href="#Module-loading" class="headerlink" title="Module loading"></a><strong>Module loading</strong></h3><ul>
<li><code>CommonJS</code> mainly relies on environment variables like <code>module</code>, <code>exports</code>, <code>requrire</code> and <code>global</code>. It loads modules synchronously.</li>
<li><code>ES6</code> modules are not objects. The <code>import</code> clause will be dynamically parsed by JavaScript engine when compiling. And code in each module will be introduced during compiling rather than in the runtime. Therefore, it cannot be used in conditional loading scenario. On the other hand, due to the limitation, it makes static analyse possible.</li>
</ul>
<h3 id="Value-VS-Reference"><a href="#Value-VS-Reference" class="headerlink" title="Value VS Reference"></a><strong>Value VS Reference</strong></h3><ul>
<li>A <code>CommonJS</code> module outputs a copy of a module. That is, once a value is output, changes within the output module will not affect the original module.</li>
<li>An <code>ES6</code> module outputs a reference of a value. That is, when JavaScript engine statically analyses scripts, it will produce a read-only reference when it encounters the module loading command <code>import</code>. When the script is actually executed, values will be taken from the loaded modules according to the read-only references. If the original value changes, the value <code>import</code>ed will also be changed. Therefore, the <code>ES6</code> module is a dynamic reference and does not cache values. Variables in the module are bound to the original module in which they are located.</li>
</ul>
<h3 id="When-the-module-is-loading"><a href="#When-the-module-is-loading" class="headerlink" title="When the module is loading"></a><strong>When the module is loading</strong></h3><ul>
<li>Runtime loading: each <code>CommonJS</code> module is an object. That is, when <code>require</code> the module, whole module is loaded at first and produced as an object, and then methods are read from the object. <code>CommonJS</code> loads an object (i.e <code>module.exports</code> command). The object is generated only after the script has been run.</li>
<li>Compile-time loading: <code>ES6</code> module is not an object, but it uses <code>export</code> command to specify code that need to be exported. The static command <code>export</code> is used when <code>import</code>ing specific code. That is, when <code>import</code>ing, you can specify an output value to load instead of loading the whole module. <code>ES6</code> module is not an object, its an external interface, which is just a static definition, which will be generated in the phase of static parsing during code compilation.</li>
</ul>

        </div>
         
        <div class="post-footer__meta">
    <p>
        updated at 2021-01-02
    </p>
</div> 
        <div class="post-meta__cats">
    
    
        <a href="/tags/front-end-brief/" class="post-tags__link button"># front-end brief</a>
    
</div> 
    </article>
    


</main>

            <footer class="footer">
    


    
     
 

 
    
        
        <p class="footer-copyright">
            Copyright&nbsp;©&nbsp;2021&nbsp;<a href="/">Junxiang Chen</a>
        </p>
    
    
    <p>Powered by <a href="https://hexo.io" target="_blank">Hexo</a> | Theme - <a href="https://github.com/ChrAlpha/hexo-theme-cards" target="_blank">Cards</a></p>
</footer>

        </div>
         

 

 

 

  



 


    


 








    </body>
</html>
